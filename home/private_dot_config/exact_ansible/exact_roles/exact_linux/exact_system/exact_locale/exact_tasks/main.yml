---
- name: Ensure required locales are generated
  community.general.locale_gen:
    name: "{{ item }}"
    state: present
  loop: "{{ system_locale }}"

  # The recommended and default way is to save
  # the hardware clock in UTC.
  # This may conflict with Windows, thus in a
  # dual-boot environment, Windows should be
  # configured to use UTC.
- name: Ensure Hardware Clock is set to UTC
  become: true
  community.general.timezone:
    rtc: UTC
